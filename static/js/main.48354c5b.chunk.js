(this["webpackJsonpcurnon-ninjump"]=this["webpackJsonpcurnon-ninjump"]||[]).push([[0],{28:function(e,t,n){e.exports=n(56)},30:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),i=n(5),o=n(4),c=(n(30),n(0)),s=function(){},h=function(e){var t=e.update,n=void 0===t?s:t,r=e.destroy;return{update:n,destroy:void 0===r?s:r}},d=n(2),l=n(8),u=n.n(l),f=n(3),p=function(e,t,n,r){for(var a=n.findRegion("deadline-back-gradient"),i=n.findRegion("deadline-front-gradient"),o=n.findRegion("single-note"),s=n.findRegion("single-paper"),h=n.findRegion("deadline-base"),l=n.findRegion("paper_stack"),u=Object(c.d)(.1,n.findRegions("paper_stack")),p=e/30,g=e,w=g/a.width*a.height,v=t-w,j=g/h.width*h.height,b=t-j/2,y=g/i.width*i.height,m=t-y,O=e/4,x=O/l.width*l.height,P=t-x,M=[],C=0;C<4;C++)M[C]=.5*Math.random();var I=0,R=.15,S=[],z=-t/2,N=.75*t;return{setDeadLineParticleRate:function(e){R=e},getDeadLineParticleRate:function(){return R},update:function(n,c){for(I+=n;I>=R;){I-=R;var l=Math.random()>.5?0:1;S.push({x:Math.random()*e,y:t,size:0===l?2*p:p,speedY:z,type:l,rotation:Math.random()*Math.PI/2})}var w,C=Object(d.a)(S);try{for(C.s();!(w=C.n()).done;){var k=w.value;k.speedY+=N*n,k.y=k.y+k.speedY*n,k.y>t&&(k.expired=!0)}}catch(F){C.e(F)}finally{C.f()}for(var T=S.length-1;T>=0;T--)S[T].expired&&S.splice(T,1);a.draw(r,0,v,g,v),h.draw(r,0,b,g,j);for(var _=0;_<3;_++)u.getKeyFrame(c+M[_],f.a.LOOP_PINGPONG).draw(r,O*_+O/2,P-x/8,O,x);var H,L=Object(d.a)(S);try{for(L.s();!(H=L.n()).done;){var A=H.value;(0===A.type?s:o).draw(r,A.x,A.y,A.size,A.size,A.size/2,A.size/2,A.rotation)}}catch(F){L.e(F)}finally{L.f()}for(var G=0;G<4;G++)u.getKeyFrame(c+M[G],f.a.LOOP_PINGPONG).draw(r,O*G,P,O,x);i.draw(r,0,m,g,y)}}},g=[],w=function(e,t,n){g.length=0;for(var r=n;r>e;)r-=t;for(;r<-t;)r+=t;var a=r;do{g.push(r),r+=t}while(r<e);for(r=a;r>0;)r-=t,g.push(r);return g},v=function(e,t,n,r,a){var i=e,o=i/n.width*n.height,c=i/r.width*r.height;return{update:function(e,s,h){var l,u=w(t,c,.5*(-s+h)),f=Object(d.a)(u);try{for(f.s();!(l=f.n()).done;){var p=l.value;a.draw(r,0,p,i,c)}}catch(b){f.e(b)}finally{f.f()}u=w(t,o,-s+h);var g,v=Object(d.a)(u);try{for(v.s();!(g=v.n()).done;){var j=g.value;a.draw(n,0,j,i,o)}}catch(b){v.e(b)}finally{v.f()}}}},j=function(e,t,n,r,a){var i=[],o=0,c=e/30,s=e/7.5;return{update:function(e,t,n,r){for(o+=e;o>=.075;)o-=.075,i.push({x:t+a/2+(Math.random()-.5)*s,y:n+a/2+(Math.random()-.5)*s,speedY:r/2,type:Math.random()<.3?0:Math.random()<.5?1:2,rotation:Math.random()*Math.PI/2,duration:3*Math.random(),t:0,size:c});var h,l=Object(d.a)(i);try{for(l.s();!(h=l.n()).done;){var u=h.value;u.t+=e,u.y+=u.speedY*e}}catch(g){l.e(g)}finally{l.f()}for(var f=i.length-1;f>=0;f--){var p=i[f];p.t>=p.duration&&i.splice(f,1)}},draw:function(){var e,t=Object(d.a)(i);try{for(t.s();!(e=t.n()).done;){var a=e.value,o=(a.duration-a.t)/a.duration;o=o*o*(3-2*o),r.setColor(0,0,0,.75*o),r.draw(n,a.x-a.size/2+a.size/5,a.y-a.size/2+a.size/5,a.size,a.size,a.size/2,a.size/2,a.rotation),0===a.type&&r.setColor(1,.494,.725,o),1===a.type&&r.setColor(.478,.988,1,o),2===a.type&&r.setColor(1,.969,.251,o),r.draw(n,a.x-a.size/2,a.y-a.size/2,a.size,a.size,a.size/2,a.size/2,a.rotation),r.setColor(1,1,1,1)}}catch(c){t.e(c)}finally{t.f()}}}},b=function(e,t,n,r,a,i,o){var c=a,s=e/10;return{update:function(o,h,d){for(var l=h+d,u=n.length-1;u>=0;u--){n[u]-a>l&&n.splice(u,1)}for(var f=r.length-1;f>=0;f--){r[f].y>n[0]&&r.splice(f,1)}for(;c>l-2*t-a;)if(c-=a,n.push(c),!(c>-t)&&Math.random()<=.4){var p=Math.floor(4*Math.random()),g=Math.random()>.5?0:1,w=0===p?3*s:2*s,v=0===p?s/2:2*s;r.push({wallIndex:g,y:0===p?c-a:c-a-.9*v,type:p,width:w,height:v,x:0===g?i:e-i-w})}}}},y=function(e,t,n,r,a,i,o){return{draw:function(){r.setColor(0,0,0,.75);var t,s=Object(d.a)(a);try{for(s.s();!(t=s.n()).done;){var h=t.value;Object(c.h)(r,n,0,h-i,o,i),Object(c.h)(r,n,e-o,h-i,o,i)}}catch(l){s.e(l)}finally{s.f()}r.setColor(1,1,1,1)}}},m=function(e,t,n,r,a,i,o,s,h,d){var l="".concat(0===h?"man":"girl","_running_").concat(d+1),u="".concat(0===h?"man":"girl","_jump_").concat(d+1),p=r.findRegions(l),g=r.findRegions(u),w=Object(c.d)(.05,p),v=Object(c.d)(.1,g),j=Object(c.d)(.05,i.findRegions("bullet_hit").slice(1,-1)),b=a.findRegions("slash"),y=Object(c.d)(.03,b),m=Object(c.d)(.1,o.findRegions("watch_buff")),O=.1*e,x=.8*e,P=x*b[0].height/b[0].width,M=!0;return{draw:function(e,t,a,i,o,b,C,I,R,S){d!==I&&function(e){l="".concat(0===h?"man":"girl","_running_").concat(e+1),u="".concat(0===h?"man":"girl","_jump_").concat(e+1),p=r.findRegions(l),g=r.findRegions(u),w=Object(c.d)(.05,p),v=Object(c.d)(.1,g)}(d=I);var z=s/2,N=a?1:-1;if(R>o-.1)return n.setColor(.478,.988,1,1),j.getKeyFrame(o-R,f.a.LOOP_PINGPONG).draw(n,e,t,2*s,s),void n.setColor(1,1,1,1);if(M||y.getKeyFrame(o-b,f.a.NORMAL).draw(n,O,t,x,P,x/2,P/2,0,N,1.5),i?(M=!1,v.getKeyFrame(o-b,f.a.NORMAL).draw(n,e,t,150*s/115,s,z,0,0,N,1)):w.getKeyFrame(o,f.a.LOOP).draw(n,e,t,s,s,z,0,0,N,1),C>=o){var k=m.getKeyFrame(o-(C-2.5),f.a.LOOP_PINGPONG);k&&k.draw(n,e,t,s,s,s/2,s/2,0,1.5,1.5)}if(S>=o){var T=m.getKeyFrame(o-(S-2.5),f.a.LOOP_PINGPONG);T&&T.draw(n,e,t,s,s,s/2,s/2,0,1.5,1.5)}}}},O=function(e,t,n,r,a,i,o){var s=new c.c;return{update:function(t,h,l){var u,f=Object(d.a)(n);try{for(f.s();!(u=f.n()).done;){var p=u.value;if(p.type>0&&!p.fired&&Math.abs(p.y-h)<r){p.fired=!0,p.projectilePos=new c.c(0===p.wallIndex?a:e-a,p.y);var g=new c.c;g.set(0===p.wallIndex?i:-i,0);var w=-Math.random()*Math.PI/6-Math.PI/18;g.rotateRad(0===p.wallIndex?w:-w),p.projectileVel=g,p.projectileSize=o,p.projectileStart=l}p.fired&&(s.setVector(p.projectileVel).scale(t),p.projectilePos.addVector(s))}}catch(v){f.e(v)}finally{f.f()}}}},x=[null,"bed","bath","tivi"],P=function(e,t,n,r){for(var a=[],i=[],o=[],s=Object(c.d)(.05,r.findRegions("bullet_hit").slice(1,-1)),h=Object(c.d)(.05,r.findRegions("coin")),l=0;l<x.length;l++)if(0!==l){var u=r.findRegions(x[l]);a[l]=Object(c.d)(.1,u),i[l]=Object(c.d)(.1,u.slice(0,4)),o[l]=Object(c.d)(.1,r.findRegions("".concat(x[l],"_bullet")))}return{draw:function(r){var l,u=Object(d.a)(n);try{for(u.s();!(l=u.n()).done;){var p=l.value,g=0===p.wallIndex?-1:1;0===p.type?(t.setColor(0,0,0,.75),!p.hit&&Object(c.h)(t,e,p.x,p.y,p.width,p.height),t.setColor(1,1,1,1)):p.fired?(!p.hit&&a[p.type].getKeyFrame(r-p.projectileStart,f.a.NORMAL).draw(t,p.x,p.y,p.width,p.height,p.width/2,p.height,0,1.5*g,1.5),p.projectileHit?r-p.projectileHitTime<=.55&&(t.setColor(0,0,0,.25),s.getKeyFrame(r-p.projectileHitTime,f.a.NORMAL).draw(t,p.projectilePos.x-p.projectileSize,p.projectilePos.y,2*p.projectileSize,p.projectileSize,p.projectileSize,p.projectileSize/2,0,1.5,1.5),t.setColor(1,1,1,1),s.getKeyFrame(r-p.projectileHitTime,f.a.NORMAL).draw(t,p.projectilePos.x-p.projectileSize+.05*p.projectileSize,p.projectilePos.y+.05*p.projectileSize,2*p.projectileSize,p.projectileSize,p.projectileSize,p.projectileSize/2,0,1.5,1.5),h.getKeyFrame(r-p.projectileHitTime,f.a.NORMAL).draw(t,p.projectilePos.x,p.projectilePos.y+p.projectileSize/2,p.projectileSize,p.projectileSize/8*10,p.projectileSize/2,0,0,2,2)):o[p.type].getKeyFrame(r,f.a.LOOP_PINGPONG).draw(t,p.projectilePos.x-p.projectileSize/2,p.projectilePos.y-p.projectileSize/2,p.projectileSize,p.projectileSize,p.projectileSize/2,p.projectileSize/2,0,1.2,1.2)):!p.hit&&i[p.type].getKeyFrame(r,f.a.LOOP_PINGPONG).draw(t,p.x,p.y,p.width,p.height,p.width/2,p.height,0,1.5*g,1.5)}}catch(w){u.e(w)}finally{u.f()}}}},M=function(e,t,n,r,a,i,o,s){for(var h="ob_".concat(0===o?"man":"girl"),l=[null,"".concat(h,"_2"),"".concat(h,"_3"),"".concat(h,"_1")],u=i.findRegion("ob_man_1"),p=e/2,g=p*u.height/u.width,w=[],v=0;v<l.length;v++)if(0!==v){var j=i.findRegions(l[v]);w[v]=Object(c.d)(.05,j)}return{draw:function(i,o){a.length>0&&(r.setColor(0,0,0,.5),Object(c.h)(r,n,0,o-t,e,2*t),r.setColor(1,1,1,1));var s,h=Object(d.a)(a);try{for(h.s();!(s=h.n()).done;){var l=s.value;if(0!==l.type)w[l.type].getKeyFrame(i-l.time,f.a.NORMAL).draw(r,l.x-p/2,o+2*l.offsetY-g/2,p,g,p/2,g/2,0,l.flipped?1:-1,1)}}catch(u){h.e(u)}finally{h.f()}}}},C=function(e,t,n){var r=e/5,a=5,i=0;return{update:function(o,c,s,h){if((a-=o)<=0){switch(h){case 0:i=10*Math.random()-6+6;break;case 1:i=6*Math.random()-4+4;break;case 2:i=10*Math.random()-4+4}a=i,n.push({x:e/2,y:s-t,drawX:e/2,drawY:s-t,drawScale:1,time:c,width:r,height:r,type:Math.floor(3*Math.random())})}for(var d=n.length-1;d>=0;d--)n[d].y>s+2*t&&n.splice(d,1)}}},I=function(e,t,n,r,a,i){for(var o=[],s=0;s<3;s++)o.push(Object(c.d)(.1,r.findRegions("watch_".concat(s+1))));return{draw:function(e,t,r){var c,s=Object(d.a)(a);try{for(s.s();!(c=s.n()).done;){var h=c.value;e-h.hitTime>.5||(h.hit&&(h.drawX=h.drawX+.2*(t+i/2-h.drawX),h.drawY=h.drawY+.2*(r-h.drawY),h.drawScale=h.drawScale+.2*(.5-h.drawScale)),o[h.type].getKeyFrame(e,f.a.LOOP).draw(n,h.drawX-h.width/2,h.drawY-h.height/2,h.width,h.height,h.width/2,h.height/2,0,h.drawScale,h.drawScale))}}catch(l){s.e(l)}finally{s.f()}}}},R=n(6),S=function(e,t,n){var r,a=!1,i=0,o=Object(d.a)(n);try{for(o.s();!(r=o.n()).done;){var c=r.value;if(c.first===e&&c.second===t){i=c.amount,a=!0;break}a=!1}}catch(s){o.e(s)}finally{o.f()}return a?i:0},z=function e(t,n,r,a){var o=this;Object(R.a)(this,e),this.addToCache=function(e,t,n,r,a){for(var i=0,c=0;c<e.length;c++){var s=e.charCodeAt(c),h=e.charCodeAt(c-1),d=o.findRegions(s),l=S(s,h,o.kerningsData);o.cache.push({key:d,x:t+i+d.xoffset*o.scale+l*o.scale,y:n+d.yoffset*o.scale+r*o.scale+a,width:d.width*o.scale,height:d.height*o.scale}),i+=d.xadvance*o.scale}},this.beforeDrawing=function(e,t,n,r){if(o.preDraw){for(var a=0,c=0,s=[],h=0;h<r.length;h++){var d=r.charCodeAt(h),l=o.findRegions(d);32!==d?c+=l.xadvance*o.scale:(a=l.xadvance*o.scale,s.push(c),c=0)}var u=Math.max.apply(Math,s)+a;o.newbase=n,o.scale=o.newbase/o.baseLine;for(var f=(r=r.trim()).split("/n").map((function(e){return e.trim()})),p=0,g=0;g<f.length;g++){r=f[g],o.oriWidth=0;for(var w=0;w<r.length;w++){var v=r.charCodeAt(w),j=o.findRegions(v);w<r.length-1?o.oriWidth+=j.xadvance*o.scale:o.oriWidth+=j.width*o.scale}var b=o.oriWidth/o.fixedWidth;p=o.lineHeight*o.scale*g;var y=0,m="",O=0;if(b>1&&o.fixedWidth>u)for(var x=0;x<r.length;x++){m+=r[x];var P=r.charCodeAt(x);if((y+=o.findRegions(P).xadvance*o.scale)>=o.fixedWidth)for(var M=x;M>=0;){x--,M--;var C=o.findRegions(r.charCodeAt(x));if(y-=C.xadvance*o.scale,m=m.substring(0,m.length-1),y<=o.fixedWidth&&32===C.id){O=o.lineHeight*o.positionBreak.length,o.positionBreak.push(x),o.lastBreakIndex=x;for(var I=m.trim(),R=0,S=0,z=0;z<I.length;z++)S=o.findRegions(I.charCodeAt(z)),z===I.length-1?R+=S.width*o.scale:R+=S.xadvance*o.scale;var N=o.getPositionBasedOnMode(e,t,R),k=Object(i.a)(N,2),T=k[0],_=k[1];o.addToCache(I,T,_,O,p),y=0,M=-1,m=""}}if(x===r.length-1&&y<o.oriWidth){for(var H="",L=o.lastBreakIndex;L<=x;L++)H+=r[L];for(var A=H.trim(),G=0,F=0,W=0;W<A.length;W++)F=o.findRegions(A.charCodeAt(W)),W===A.length-1?G+=F.width*o.scale:G+=F.xadvance*o.scale;var B=o.getPositionBasedOnMode(e,t,G),K=Object(i.a)(B,2),D=K[0],Y=K[1];O=o.lineHeight*o.positionBreak.length,o.addToCache(A,D,Y,O,p)}}if(b<=1||o.fixedWidth<u){var V=o.getPositionBasedOnMode(e,t,o.oriWidth),E=Object(i.a)(V,2),X=E[0],U=E[1];o.addToCache(r,X,U,0,p)}}0===o.type&&(o.preDraw=!1),o.oriHeight=o.newbase}},this.getPositionBasedOnMode=function(e,t,n){return 0===o.align?e-=Math.round(n/2):1===o.align&&(e-=n),[e,t]},this.setAlignMode=function(e){o.align=e},this.setType=function(e){o.type=e},this.setLineHeight=function(e){o.lineHeight=e},this.setFixedGlyphWidth=function(e){o.fixedWidth=e},this.findRegions=function(e){for(var t=0;t<o.regions.length;t++)if(o.regions[t].id===e)return o.regions[t]},this.draw=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:o.baseLine;if(0===o.type){o.preDraw&&o.beforeDrawing(n,r,a,t);for(var i=0;i<o.cache.length;i++){var c=o.cache[i];c.key.draw(e,c.x,c.y,c.width,c.height)}}if(1===o.type){o.beforeDrawing(n,r,a,t);for(var s=0;s<o.cache.length;s++){var h=o.cache[s];h.key.draw(e,h.x,h.y,h.width,h.height)}o.cache.length=0,o.positionBreak.length=0}},this.pageImage=t,this.regions=n,this.kerningsData=r,this.canvasWidth=a,this.type=0,this.align=2,this.lineHeight=t.lineHeight,this.baseLine=t.base,this.fixedWidth=a,this.position=new c.c(0,0),this.scale=0,this.newBase=0,this.oriWidth=0,this.oriHeight=0,this.positionBreak=[],this.lastBreakIndex=0,this.cache=[],this.preDraw=!0},N=0,k=1,T=2,_=1;function H(e,t){for(var n=e.split("/"),r=t.split("/"),a=[],i=0,o=n.length;i<o;i++)if(".."===n[i])a.pop();else{if("."===n[i])continue;a.push(n[i])}for(var c=0,s=r.length;c<s;c++)if(".."===r[c])a.pop();else{if("."===r[c])continue;a.push(r[c])}return a.join("/")}var L=function(){var e=Object(o.a)(a.a.mark((function e(t,n,r){var i,o,s,h,d,l,u,f,p,g,w,v,j,b,y,m,O,x,P,M,C,I,R,S,N,k,T,_,L,A,G,F,W,B,K,D,Y,V,E,X,U,J,q,Q,Z,$,ee,te,ne,re,ae,ie,oe,ce,se,he,de,le,ue,fe,pe,ge,we,ve,je,be,ye,me,Oe;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n).then((function(e){return e.text()}));case 2:i=e.sent,o=[],s=[],h=[],d=null,l=i.split("\n"),u=0,p=[],g=!1;case 11:if(void 0!==(w=l[u])){e.next=16;break}return g=!1,e.abrupt("break",24);case 16:if(2===w.split(" ").length&&("kernings"===w.split(" ")[0]&&(g=!0),u++,w=l[u]),0===w.trim().length&&(d=null),!g&&null!==d){for(f=(f=w.split(" ").map((function(e){return e.trim()}))).filter((function(e){return""!==e})),p.length=0,v=1;v<f.length;v++)p.push(f[v].split("=")[1]);j=parseInt(p[0],10),b=parseInt(p[1],10),y=parseInt(p[2],10),m=parseInt(p[3],10),O=parseInt(p[4],10),x=parseInt(p[5],10),P=parseInt(p[6],10),M=parseInt(p[7],10),C=parseInt(p[8],10),I={id:j,left:b,top:y,width:m,height:O,xoffset:x,yoffset:P,xadvance:M,page:d,id_page:C},s.push(I)}if(g&&null!==d){for(f=(f=w.split(" ").map((function(e){return e.trim()}))).filter((function(e){return""!==e})),p.length=0,R=1;R<f.length;R++)p.push(f[R].split("=")[1]);S=parseInt(p[0],10),N=parseInt(p[1],10),k=parseInt(p[2],10),h.push({first:S,second:N,amount:k})}if(null===d){for(f=w.split(" ").map((function(e){return e.trim()})),T=1;T<f.length;T++)p.push(f[T].split("=")[1]);for(_=p[0],L=parseInt(p[1],10),A=0!==parseInt(p[2],10),G=0!==parseInt(p[3],10),F=p[4],W=parseInt(p[5],10),B=parseInt(p[6],10),K=parseInt(p[7],10),D=parseInt(p[8],10),Y=p[9].split(",").map((function(e){return parseInt(e,10)})),V=p[10].split(",").map((function(e){return parseInt(e,10)})),E=parseInt(p[11],10),u++,w=l[u],p.length=0,f=w.split(" ").map((function(e){return e.trim()})),X=1;X<f.length;X++)p.push(f[X].split("=")[1]);for(U=parseInt(p[0],10),J=parseInt(p[1],10),q=parseInt(p[2],10),Q=parseInt(p[3],10),Z=parseInt(p[4],10),$=parseInt(p[5],10),ee=parseInt(p[6],10),te=parseInt(p[7],10),ne=parseInt(p[8],10),re=parseInt(p[9],10),u++,w=l[u],p.length=0,f=w.split(" ").map((function(e){return e.trim()})),ae=1;ae<f.length;ae++)p.push(f[ae].split("=")[1]);ie=parseInt(p[0],10),oe=p[1].split('"'),ce=H(n,"../".concat(oe[1])),d={file:ce,page_id:ie,face:_,size:L,bold:A,italic:G,charset:F,unicode:W,stretchH:B,smooth:K,aa:D,padding:Y,spacing:V,outline:E,lineHeight:U,base:J,scaleW:q,scaleH:Q,num_of_pages:Z,packed:$,alphaChnl:ee,redChnl:te,greenChnl:ne,blueChnl:re},o.push(d)}u++,e.next=11;break;case 24:se=0,he=o;case 25:if(!(se<he.length)){e.next=35;break}return de=he[se],e.next=29,Object(c.j)(t,de.file,r);case 29:de.texture=e.sent,de.invTextWidth=1/de.texture.width,de.invTextHeight=1/de.texture.height;case 32:se++,e.next=25;break;case 35:for(le=[],ue=0,fe=s;ue<fe.length;ue++)pe=fe[ue],ge=pe.left,we=pe.top,ve=pe.width,je=pe.height,be=pe.page,ye=be.texture,me=be.invTexWidth,Oe=be.invTexHeight,le.push(new c.b(ye,ge,we,ve,je,pe,me,Oe));return e.abrupt("return",{getLineHeight:function(){return d.lineHeight},getPages:function(){return o},getRegions:function(){return le},findRegions:function(e){for(var t=0;t<le.length;t++)if(le[t].id===e)return le[t]},setNewText:function(e){return new z(d,le,h,e)}});case 38:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),A=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=e.x*n,a=e.y*n,i=Math.min(t[0],t[2],t[4],t[6]),o=Math.max(t[0],t[2],t[4],t[6]),c=Math.min(t[1],t[3],t[5],t[7]),s=Math.max(t[1],t[3],t[5],t[7]);return!(r<i||r>o||a<c||a>s)},G=function(){var e=Object(o.a)(a.a.mark((function e(t,n,r,i){var s,d,l,f,p,g,w,v,j,b,y,m,O,x,P,M,C,I,R,S,z,k,_,H,L,G,F,W,B,K,D,V,E,X,U,J,q,Q;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(U in s=function(){var e=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,Y(t);case 3:e.t1=e.sent,e.t0.setCurrentScreen.call(e.t0,e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=t.gl,l=t.width,f=t.height,p=t.canvas,g=t.font,w=t.gender,v=t.pixelRatio,j=t.assets.endScreen,b=t.assets,y=b.achive1,m=b.achive2,O=b.achive3,x=b.characterAtlas,P=u()(d),M=new c.a(p),C=Object(c.e)(d),I=Object(c.g)(l,f,l,f),R=t.assets.retry,S=t.assets.reward,k=(z=l/2.5)*R.height/R.width,_=x.findRegion("girl_running_1",0),H=x.findRegion("man_running_1",0),L=[l/7,l/7*_.height/_.width],G=[l/7,l/7*H.height/H.width],F=g.setNewText(l),W=g.setNewText(l),B=g.setNewText(l),D=(K=l)*j.height/j.width,E=(V=l/20)*y.height/y.width,X=[n/50,(n-50)/150,(n-200)/200])X[U]>1&&(X[U]=1);return n<=50?X[1]=X[2]=0:n<=200&&n>50?X[2]=0:400===n&&(X[2]=1),J=[f/4.5+f/6*2+f/90+f/6*(1-X[0]),f/4.5+f/6+f/180+f/6*(1-X[1]),f/4.5+f/6*(1-X[2])],q=0,Q=!0,e.abrupt("return",h({update:function(e){var t,a,o=[.91*l/2,f/2,.91*l/2+z,f/2,.91*l/2,f/2+k,.91*l/2+z,f/2+k],h=[.91*l/2,f/2+k+l/50,.91*l/2+z,f/2+k+l/50,.91*l/2,f/2+k+l/50+k,.91*l/2+z,f/2+k+l/50+k];Q&&(q+=e),q>=1&&(q=0,M.addEventListener("touchStart",(function(e,t){var n={x:e,y:t};A(n,o,v)&&(Q=!1,window.location.href="https://curnonwatch.com/"),A(n,h,v)&&(Q=!1,s())}))),I.setPosition(0,0),C.setProjection(I.combined),C.begin(),C.setColor(1,1,1,1),C.draw(j,l/2-K/2,f/2-D/2,K,D),C.draw(y,l/4.1-1.3*V,f/4.5+f/6*2+f/60-E/2,V,E),C.draw(m,l/4.1-1.3*V,f/4.5+f/6+f/120-E/2,V,E),C.draw(O,l/4.1-1.3*V,f/4.5-E/2,V,E),C.setColor(.87,.87,.87,1),C.draw(P,l/4.1,f/4.5,l/38,f/6),C.draw(P,l/4.1,f/4.5+f/6+f/180,l/38,f/6),C.draw(P,l/4.1,f/4.5+f/6*2+f/90,l/38,f/6),C.setColor(1,.5,0,1),C.draw(P,l/4.1,J[0],l/38,f/6*X[0]),C.draw(P,l/4.1,J[1],l/38,f/6*X[1]),C.draw(P,l/4.1,J[2],l/38,f/6*X[2]),C.setColor(0,0,0,1),F.setAlignMode(T),F.draw(C,"x".concat(n),1.71*l/3,f/2.65,l/20),B.setAlignMode(N),B.draw(C,"x".concat(i),2.2*l/3,f/3.1,l/20),W.setAlignMode(N),W.draw(C,"".concat(Math.floor(-1*Math.floor(r)/10),"M"),1.94*l/3,f/2.24,l/14),C.setColor(1,1,1,1),Object(c.h)(C,S,.91*l/2,f/2,z,k),Object(c.h)(C,R,.91*l/2,f/2+k+l/50,z,k),C.setColor(1,1,1,1),n<=50?(t=J[0],a=J[0]):n>50&&n<=200?(t=J[1],a=J[1]):(t=J[2],a=J[2]),0===w?H.draw(C,l/3.6,a-G[1]/2,G[0],G[1],G[0]/2,G[1]/2,0,-1,1):_.draw(C,l/3.6,t-L[1]/2,L[0],L[1],L[0]/2,L[1]/2,0,-1,1),C.end()},destroy:function(){M.cleanup()}}));case 30:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),F=function(e,t){var n=e.gl,r=e.width,a=e.height,i=e.font,o=e.assets.coin,s=r/17,d=s*o.height/o.width,l=i.setNewText(r),u=Object(c.e)(n),f=Object(c.g)(r,a,r,a);return h({update:function(e){f.setPosition(0,0),u.setProjection(f.combined),u.begin(),u.draw(o,3.8*r/5,1*a/30,s,d),l.setType(_),u.setColor(.4,.2,0,1),l.draw(u,"".concat(e),4.15*r/5,1*a/30,r/20),u.setColor(1,1,1,1),u.end()},destroy:function(){}})},W=function(e){for(var t=e.gl,n=e.width,r=e.height,a=e.assets.watchAtlas,i=Object(c.e)(t),o=Object(c.g)(n,r,n,r),s=[],h=0;h<3;h++)s.push(a.findRegion("watch_".concat(h+1),0));var d=n/8.5,l=0;return{update:function(e){o.setPosition(0,0),i.setProjection(o.combined),i.begin(),i.setColor(1,1,1,1);for(var t=0;t<e.length;t++)"zoomout"===e[t].state&&(e[t].scale-=.1,e[t].scale<=0&&(e[t].state="visible")),"enable"!==e[t].state&&"zoomout"!==e[t].state||s[e[t].type].draw(i,n/8+l-d/2,r/18-d/2,d,d,d/2,d/2,0,e[t].scale,e[t].scale),"visible"===e[t].state&&e.splice(t,1),l+=d;l=0,i.end()}}},B=function(e,t,n,r,a){var i=a.button,o=n/3.8;e.setColor(1,1,1,1),Object(c.h)(e,i,n/2-o/2,4.7*r/6,o,o)},K=function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r,i,s,l,f,g,w,x,R,S,z,N,k,T,_,H,L,K,D,Y,V,E,X,U,J,q,Q,Z,$,ee,te,ne,re,ae,ie,oe,ce,se,he,de,le,ue,fe,pe,ge,we,ve,je,be,ye,me,Oe,xe,Pe,Me,Ce,Ie,Re,Se,ze,Ne,ke,Te,_e,He,Le,Ae,Ge,Fe,We,Be,Ke,De,Ye,Ve,Ee,Xe;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.gender,r=t.gl,i=t.width,s=t.height,l=t.canvas,f=t.assets,g=t.pixelRatio,w=0,x=Object(c.e)(r),R=Object(c.g)(i,s,i,s),S=u()(r),z=new c.a(l),N=f.bg1,k=f.bg2,T=f.deadLineAtlas,_=f.characterAtlas,H=f.slashAtlas,L=f.obstacleAtlas,K=f.noteTex,D=f.watchAtlas,Y=i/N.width*N.height,E=Y/7,X=2*i,Q=0,Z=0,$=0,ee=0,te=function(){return Q>=Ve},ne=function(){return Z>=Ve},re=V=.05*i,ae=0,ie=0,oe=U=.75*-s,ce=q=.5*s,se=q,he=!1,de=!1,le=V,ue=i-V-(J=i/5),fe=0,pe=[],ge=[],we=[],ve=function(e,t){var n=!1;if(3===we.length&&"enable"===we[0].state){var r=i/3.8;if(A({x:e,y:t},[i/2-r/2,4.7*s/6,i/2-r/2+r,4.7*s/6,i/2-r/2,4.7*s/6+r,i/2-r/2+r,4.7*s/6+r],g)){Z=Ve+2.5,ce+=.5*(q-ce);var a,o=Object(d.a)(we);try{for(o.s();!(a=o.n()).done;){a.value.state="zoomout"}}catch(c){o.e(c)}finally{o.f()}n=!0}}!n&&je()},je=function(){de||ge.length>0||(ie=he?-X:X,de=!0,fe=Ve)},z.addEventListener("touchStart",ve),document.addEventListener("keydown",je),be=function(e){if(de){var t=!1;return e>ue&&(re=ue,t=!0),e<le&&(re=le,t=!0),t&&(ie=0,de=!1,he=!he),t}},ye=function(e){var t=1;ge.length>0&&(t=.5),ne()&&(t*=1.5),ae+=oe*e*t;var n=ie*e;be(re+n)||(re+=n)},me=function(e){var t,n=re,r=re+J,a=ae,i=ae+J,o=Object(d.a)(Se);try{for(o.s();!(t=o.n()).done;){var c=t.value;if(!c.hit){var s=c.x-c.width/2,h=c.x+c.width/2,l=c.y-c.height/2,u=c.y+c.height/2;n<h&&r>s&&a<u&&i>l&&(ee+=1,c.hit=!0,we.length<=2&&we.push({type:c.type,stateTime:0,state:"enable",scale:1}),c.hitTime=Ve)}}}catch(f){o.e(f)}finally{o.f()}},Oe=function(e){var t,n=re,r=re+J,a=ae,o=ae+J,c=!1,h=Object(d.a)(Re);try{for(h.s();!(t=h.n()).done;){var l=t.value;if(!l.hit){var u=l.width,f=l.height,p=l.x,g=l.x+u,w=l.y,v=l.y+f;n<g&&r>p&&a<v&&o>w&&!de&&(l.hit=!0,we.length>0&&(Q=Ve+.2,we[0].state="zoomout"),te()||ne()||(c=!0,ge.push({time:Ve,duration:1,type:l.type,x:i/2+(Math.random()-.5)*i/20,offsetY:-(Math.random()*i/20+i/40),flipped:he})))}}}catch(R){h.e(R)}finally{h.f()}var j,b=Object(d.a)(Re);try{for(b.s();!(j=b.n()).done;){var y=j.value;if(y.fired&&!y.projectileHit){var m=y.projectilePos,O=y.projectileSize,x=m.x-O/3,P=m.x+O/3,M=m.y-O/3,C=m.y+O/3;n<P&&r>x&&a<C&&o>M&&(y.projectileHit=!0,y.projectileHitTime=Ve,y.projectileVel.set(0,oe),de||te()||ne()||0!==we.length?(we.length>0&&!de&&(Q=Ve+.2,we[0].state="zoomout"),ce+=.1*(q-s),ce=Math.max(ce,q),$+=5):(ge.push({time:Ve,duration:1,type:y.type,x:i/2+(Math.random()-.5)*i/10,offsetY:-(Math.random()*i/10+i/20),flipped:he}),y.projectileVel.set(0,oe/2),c=!0))}}}catch(R){b.e(R)}finally{b.f()}if(c){ce+=.2*(s-q);var I=ke.getDeadLineParticleRate();ke.setDeadLineParticleRate(I+.2*(Ie-I))}},xe=-2,Pe=[0,50,200],Me=[1,1.25,1.5],Ce=function(){for(var e=0;e<Pe.length;e++)w>=e||$>Pe[e]&&(w=e,xe=Ve,oe=U*Me[e])},Ie=.015,Re=[],Se=[],ze=i,Ne=i/7.5,ke=p(i,s,T,x),Te=v(i,s,N,k,x),_e=j(i,0,K,x,J),He=b(i,s,pe,Re,E,V),Le=y(i,0,S,x,pe,E,V),Ae=m(i,0,x,_,H,L,D,J,n,w),Ge=O(i,0,Re,E,V,ze,Ne),Fe=P(S,x,Re,L),We=M(i,s,S,x,ge,L,n),Be=C(i,s,Se),Ke=I(0,0,x,D,Se,J),De=F(t),Ye=W(t),Ve=0,Ee=function(){return se>=.96*s},Xe=function(){var e=Object(o.a)(a.a.mark((function e(n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ee()){e.next=34;break}for((te()||ne())&&(ge.length=0),se+=.02*(ce-se),r=ge.length-1;r>=0;r--)Ve-ge[r].time>=ge[r].duration&&ge.splice(r,1);Ve+=n,_e.update(n,re,ae,oe),ye(n),Oe(),me(),Ce(),Ge.update(n,ae,Ve),He.update(n,ae,se),Be.update(n,Ve,ae,w),R.setPosition(0,0),x.setProjection(R.combined),x.begin(),Te.update(n,ae,se),ke.update(n,Ve),3===we.length&&B(x,0,i,s,f),x.end(),Ye.update(we),De.update($),R.setPosition(0,ae-se),x.setProjection(R.combined),x.begin(),_e.draw(),Ae.draw(re,ae,he,de,Ve,fe,Q,w,xe,Z),Ke.draw(Ve,re,ae),Le.draw(),Fe.draw(Ve),We.draw(Ve,ae),x.end(),e.next=39;break;case 34:return e.t0=t,e.next=37,G(t,$,ae,ee);case 37:e.t1=e.sent,e.t0.setCurrentScreen.call(e.t0,e.t1);case 39:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.abrupt("return",h({update:Xe,destroy:function(){z.cleanup(),document.removeEventListener("keydown",je)}}));case 69:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r,i,s,d,l,u,f,p,g,w,v,j,b,y,m,O,x;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(){var e=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,K(t);case 3:e.t1=e.sent,e.t0.setCurrentScreen.call(e.t0,e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r=t.gl,i=t.width,s=t.height,d=t.canvas,l=t.font,u=new c.a(d),f=t.assets.instruction,g=(p=i)*f.height/f.width,w=Object(c.e)(r),v=Object(c.g)(i,s,i,s),j=l.setNewText(i),b=l.setNewText(i),y=l.setNewText(i),m=i/30,O=0,x=!0,e.abrupt("return",h({update:function(e){x&&(O+=e),O>=1&&(O=0,u.addEventListener("touchStart",(function(e,t){x=!1,n()}))),v.setPosition(0,0),w.setProjection(v.combined),w.begin(),w.setColor(1,1,1,1),w.draw(f,i/2-p/2,s/2-g/2,p,g),j.setFixedGlyphWidth(i/3),j.draw(w,"NH\u1ea4N V\xc0O M\xc0N H\xccNH \u0110\u1ec2 NH\u1ea2Y",2*i/3,s/7,m),b.setAlignMode(k),b.setFixedGlyphWidth(i/2.7),b.draw(w,"CH\xc9M NH\u1eeeNG V\u1eacT TR\xcaN KH\xd4NG C\xd3 TH\u1ec2 THU \u0110\u01af\u1ee2C M\u1ed8T L\u01af\u1ee2NG V\xc0NG",i/2.6,s/2.6,m),y.setFixedGlyphWidth(i/3),y.draw(w,"THU TH\u1eacP \u0110\u1ee6 S\u1ed0 L\u01af\u1ee2NG \u0110\u1ed2NG H\u1ed2 S\u1ebc GI\xdaP B\u1ea0N S\u1eec D\u1ee4NG K\u1ef8 N\u0102NG \u0110\u1eb6C BI\u1ec6T",1.9*i/3,2.8*s/4,m),w.end()},destroy:function(){u.cleanup()}}));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(e){var t,n=function(){var t=Object(o.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,D(e);case 3:return t.t1=t.sent,t.abrupt("return",t.t0.setCurrentScreen.call(t.t0,t.t1));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),r=e.gl,i=e.width,s=e.height,d=e.assets,l=e.canvas,f=e.title,p=e.pixelRatio,g=f.setNewText(i),w=Object(c.e)(r),v=Object(c.g)(i,s,i,s),j=new c.a(l),b=u()(r),y=d.woman,m=d.man,O=d.tray,x=d.bg2,P=d.bg1,M=i,C=M/P.width*P.height,I=M/x.width*x.height,R=s/4,S=R*y.width/y.height,z=R*m.width/m.height,k=i/4,T=k*O.height/O.width,H=i/2-k/2,L=2.2*s/3,G=[H-i/5+z/2,1.46*s/3,H-i/5+k/2+z,1.46*s/3,H-i/5+k/2,1.46*s/3+R,H-i/5+k/2+z,1.46*s/3+R],F=[H+i/5+k/2-S/2,1.46*s/3,H+i/5+k/2-S/2+S,1.46*s/3,H+i/5+k/2-S/2,1.46*s/3+R,H+i/5+k/2-S/2+S,1.46*s/3+R];return j.addEventListener("touchStart",(function(r,a){A(t={x:r,y:a},G,p)&&(e.gender=0,n()),A(t,F,p)&&(e.gender=1,n())})),h({update:function(e){v.setPosition(0,0),w.setProjection(v.combined),w.begin(),w.draw(x,0,0,M,I),w.draw(P,0,0,M,C),w.setColor(1,1,1,.5),Object(c.h)(w,b,0,0,i,s),w.setColor(1,1,1,1),g.setAlignMode(N),g.setType(_),g.setFixedGlyphWidth(i),w.setColor(0,0,0,1),g.draw(w,"CH\u1eccN NH\xc2N V\u1eacT",i/2,L-i/8-R,i/20),w.setColor(1,1,1,1),w.draw(m,H-i/5+z/2,1.46*s/3,z,R),w.draw(y,H+i/5+k/2-S/2,1.46*s/3,S,R),w.draw(O,H-i/5,L,k,T),w.draw(O,H+i/5,L,k,T),w.end()},destroy:function(){j.cleanup()}})};(function(){var e=Object(o.a)(a.a.mark((function e(){var t,n,r,o,s,h,d,l,u,f,p,g,w,v,j,b,y,m,O,x,P,M,C,I,R,S,z,N,k,T,_,H,A,G,F,W,B;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("main"),n=document.getElementById("loading"),r=Object(c.k)(t,2),o=Object(i.a)(r,2),s=o[0],h=o[1],d=t.getContext("webgl"),e.next=6,L(d,"./myriad.fnt");case 6:return l=e.sent,e.next=9,L(d,"./tittle.fnt");case 9:return u=e.sent,f={title:u,font:l,width:s,height:h,canvas:t,gl:d,pixelRatio:2,setCurrentScreen:function(e){f.currentScreen&&f.currentScreen.destroy(),f.currentScreen=e}},p=0,n.innerHTML="Loading (".concat(p," / 7)..."),g=function(e){return e.then((function(e){return p++,n.innerHTML="Loading (".concat(p," / 18)..."),e}))},e.next=16,Promise.all([g(Object(c.j)(d,"./test-bg.png")),g(Object(c.j)(d,"./test-bg2.jpg")),g(Object(c.i)(d,"./deadline.atlas")),g(Object(c.i)(d,"./test.atlas")),g(Object(c.i)(d,"./slash.atlas")),g(Object(c.i)(d,"./obstacle.atlas")),g(Object(c.j)(d,"./note.png")),g(Object(c.i)(d,"./watch.atlas")),g(Object(c.j)(d,"./man.png")),g(Object(c.j)(d,"./woman.png")),g(Object(c.j)(d,"./tray.png")),g(Object(c.j)(d,"./end-screen.jpg")),g(Object(c.j)(d,"./archivement_1.png")),g(Object(c.j)(d,"./archivement_2.png")),g(Object(c.j)(d,"./archivement_3.png")),g(Object(c.j)(d,"./man jump.png")),g(Object(c.j)(d,"./instruction.png")),g(Object(c.j)(d,"./coin.png")),g(Object(c.j)(d,"./button.png")),g(Object(c.j)(d,"./retry-btn.png")),g(Object(c.j)(d,"./reward-btn.png"))]);case 16:return w=e.sent,v=Object(i.a)(w,21),j=v[0],b=v[1],y=v[2],m=v[3],O=v[4],x=v[5],P=v[6],M=v[7],C=v[8],I=v[9],R=v[10],S=v[11],z=v[12],N=v[13],k=v[14],T=v[15],_=v[16],H=v[17],A=v[18],G=v[19],F=v[20],W={bg1:j,bg2:b,deadLineAtlas:y,characterAtlas:m,slashAtlas:O,obstacleAtlas:x,noteTex:P,watchAtlas:M,man:C,woman:I,tray:R,endScreen:S,achive1:z,achive2:N,achive3:k,manjump:T,instruction:_,coin:H,button:A,retry:G,reward:F},f.assets=W,e.t0=f,e.next=44,Y(f);case 44:e.t1=e.sent,e.t0.setCurrentScreen.call(e.t0,e.t1),n.style.display="none",d.clearColor(1,1,1,1),B=function(e){d.clear(d.COLOR_BUFFER_BIT),f.currentScreen&&f.currentScreen.update(e)},Object(c.f)(B);case 50:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}},[[28,1,2]]]);
//# sourceMappingURL=main.48354c5b.chunk.js.map